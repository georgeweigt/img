FUNCTION SETTIME(HOUR,MINUTE:INTEGER):INTEGER;
VAR RESULT:INTEGER;
BEGIN
#A
 STX _T
 LDY #10        ;MINUTES
 LDA (_SP),Y
 BNE STT3
 DEY
 LDA (_SP),Y
 CMP #60
 BCS STT3
 STA _T+1
 LDY #12        ;HOURS
 LDA (_SP),Y
 BNE STT4
 DEY
 LDA (_SP),Y
 CMP #24
 BCS STT4
 STA $BF93
 LDA _T+1
 STA $BF92
 LDA #0
 BEQ STT9
STT3 LDA #2
 BNE STT9
STT4 LDA #1
STT9 LDY #5
 STA (_SP),Y
 INY
 LDA #0
 STA (_SP),Y
 LDX _T
#
 SETTIME := RESULT
END;
