_UsesHires ; must have this for toolkit - also must be in chained programs 
 include stdlib.s
_5
 _lnk 1,6,11
 TXA
 PHA
 LDX #0
 LDY #5
LOAD1 LDA (_SP),Y
 INY
 CPY #44
 BEQ LOAD3 
 CMP #$20
 BEQ LOAD1
LOAD2 STA $281,X
 INX
 LDA (_SP),Y
 INY
 CPY #44
 BEQ LOAD3
 CMP #$20
 BNE LOAD2
LOAD3 STX $280
 LDA #$A
 STA PAR
 LDA #>$280
 STA PAR+1
 LDA #<$280
 STA PAR+2
 JSR _MLI
 DB $C4
 DW PAR
 BNE ERR
 LDA PAR+5
 STA PAR+14
 LDA PAR+6
 STA PAR+15
;
 LDA #3
 STA PAR
 LDA #>$3000
 STA PAR+3
 LDA #<$3000
 STA PAR+4
 JSR _MLI
 DB $C8
 DW PAR
 BNE ERR
;
 LDA #4
 STA PAR
 LDA PAR+5
 STA PAR+1
 LDA PAR+14
 STA PAR+2
 LDA PAR+15
 STA PAR+3
 LDA #>$5000
 STA PAR+4
 LDA #<$5000
 STA PAR+5
 JSR _MLI
 DB $CA
 DW PAR
 BNE ERR
;
 LDA #1
 STA PAR
 JSR _MLI
 DB $CC
 DW PAR
 BNE ERR
EXIT PLA
 TAX
;
 _end 6,11
ERR JMP GERROR
PAR DW 0
 DW 0
 DW 0
 DW 0
 DW 0
 DW 0
 DW 0
 DW 0
 DW 0
_10
 _lnk 1,11,4
 LDY #5
 LDA (_SP),Y
 STA _T
 INY
 LDA (_SP),Y
 STA _T+1
 INY
 LDA (_SP),Y
 STA _T+2
 INY
 LDA (_SP),Y
 STA _T+3
 LDY #0
 LDA $FBC0
 STA (_T),Y
 LDA $FBB3
 STA (_T+2),Y
 LDA #0
 INY
 STA (_T),Y
 STA (_T+2),Y
 _end 11,4
TOOLKIT EQU $6100
CMDLIST DB 0
 DB 0
 DB 0
 DB 0
 DB 0
 DB 0
 DB 0
 DB 0
 DB 0
 DB 0
 DB 0
 DB 0
 DB 0
 DB 0
 DB 0
 DB 0
 DB 0
 DB 0
 DB 0
 DB 0
 DB 0
 DB 0
_15
 _lnk 1,16,9
 LDA #6
 STA CMDLIST
 LDY #5
 LDA (_SP),Y
 STA CMDLIST+6
 INY
 LDA (_SP),Y
 STA _T
 INY
 LDA (_SP),Y
 STA _T+1
 INY
 LDA (_SP),Y
 STA _T+2
 INY
 LDA (_SP),Y
 STA _T+3
 LDY #0
 LDA (_T),Y
 STA CMDLIST+5
 LDA (_T+2),Y
 STA CMDLIST+4
 LDA #0
 STA CMDLIST+3
 LDY #10
 LDA (_SP),Y
 STA CMDLIST+2
 LDY #12
 LDA (_SP),Y
 STA CMDLIST+1
 JSR TOOLKIT
 DB 0
 DW CMDLIST
 BEQ *+5
 JMP GERROR
 LDY #0
 LDA CMDLIST+5
 STA (_T),Y
 LDA CMDLIST+4
 STA (_T+2),Y
 INY
 LDA #0
 STA (_T+2),Y
 _end 16,9
_20
 _lnk 1,21,0
 LDA #0
 STA CMDLIST
 JSR TOOLKIT
 DB 1
 DW CMDLIST
 BEQ *+5
 JMP GERROR
 _end 21,0
GERROR JSR $FDDA
 JSR $FD8E
 JMP _QUIT
_25
 _lnk 1,26,4
 LDA #2
 STA CMDLIST
 LDY #5
 LDA (_SP),Y
 STA CMDLIST+3
 INY
 LDA (_SP),Y
 STA CMDLIST+4
 INY
 LDA (_SP),Y
 STA CMDLIST+1
 INY
 LDA (_SP),Y
 STA CMDLIST+2
 JSR TOOLKIT
 DB 9
 DW CMDLIST
 BEQ *+5
 JMP GERROR
 _end 26,4
_30
 _lnk 1,31,2
 LDA #1
 STA CMDLIST
 LDY #5
 LDA (_SP),Y
 STA CMDLIST+1
 INY
 LDA (_SP),Y
 STA CMDLIST+2
 JSR TOOLKIT
 DB 10
 DW CMDLIST
 BEQ *+5
 JMP GERROR
 _end 31,2
_35
 _lnk 1,36,0
 LDA #0
 STA CMDLIST
 JSR TOOLKIT
 DB 3
 DW CMDLIST
 BEQ *+5
 JMP GERROR
 _end 36,0
_40
 _lnk 1,41,4
 LDA #2
 STA CMDLIST
 LDY #5
 LDA (_SP),Y
 STA CMDLIST+3
 INY
 LDA (_SP),Y
 STA CMDLIST+4
 INY
 LDA (_SP),Y
 STA CMDLIST+1
 INY
 LDA (_SP),Y
 STA CMDLIST+2
 JSR TOOLKIT
 DB 22
 DW CMDLIST
 BEQ *+5
 JMP GERROR
 _end 41,4
_1
 _lnk 0,2,0
 _lpa 11
 _lsa 11
 db 109
 db 116
 db 120
 db 107
 db 105
 db 116
 db 46
 db 97
 db 98
 db 115
 db 32
 _mov 11
 _jsr 5
 jsr $FC58 ; home
 _lga 601
 _lcw 0
 _stw
 _lga 595
 _lcw 0
 _stb
 _lpa 2
 _lga 597
 _stw
 _lpa 2
 _lga 599
 _stw
 _jsr 10
 _lpa 2
 _lga 597
 _ldw
 _stw
 _lpa 2
 _lga 599
 _ldw
 _stw
 _lpa 2
 _lga 601
 _stw
 _lpa 2
 _lga 595
 _stw
 _lpa 1
 _lcw 1
 _stb
 _jsr 15
 _lpa 2
 _lga 256
 _stw
 _lpa 2
 _lcw 256
 _stw
 _jsr 25
 _lga 288
 _fld 0
 _lcw 3
 _stb
 _lga 617
 _fld 0
 _lcw 16
 _stb
 _lga 617
 _fld 1
 _lcw 0
 _stb
 _lga 617
 _fld 2
 _lga 570
 _stw
 _lga 617
 _fld 4
 _lga 334
 _stw
 _lga 288
 _fld 2
 _lcw 1
 _min 1
 _max 2
 _ndx 10
 _lga 617
 _mov 10
 _lga 617
 _fld 0
 _lcw 32
 _stb
 _lga 617
 _fld 2
 _lga 582
 _stw
 _lga 617
 _fld 4
 _lga 380
 _stw
 _lga 288
 _fld 2
 _lcw 2
 _min 1
 _max 2
 _ndx 10
 _lga 617
 _mov 10
 _lga 617
 _fld 0
 _lcw 48
 _stb
 _lga 617
 _fld 2
 _lga 594
 _stw
 _lga 617
 _fld 4
 _lga 426
 _stw
 _lga 288
 _fld 2
 _lcw 3
 _min 1
 _max 2
 _ndx 10
 _lga 617
 _mov 10
 _lga 570
 _lsa 12
 db 32
 db 81
 db 117
 db 105
 db 116
 db 32
 db 32
 db 32
 db 32
 db 32
 db 32
 db 32
 _mov 12
 _lga 570
 _lcw 1
 _min 1
 _max 11
 _ndxb
 _lcw 4
 _stb
 _lga 582
 _lsa 12
 db 32
 db 87
 db 105
 db 110
 db 100
 db 111
 db 119
 db 32
 db 32
 db 32
 db 32
 db 32
 _mov 12
 _lga 582
 _lcw 1
 _min 1
 _max 11
 _ndxb
 _lcw 6
 _stb
 _lga 594
 _lsa 12
 db 32
 db 69
 db 100
 db 105
 db 116
 db 32
 db 32
 db 32
 db 32
 db 32
 db 32
 db 32
 _mov 12
 _lga 594
 _lcw 1
 _min 1
 _max 11
 _ndxb
 _lcw 4
 _stb
 _lga 334
 _fld 0
 _lcw 1
 _stb
 _lga 607
 _fld 0
 _lcw 3
 _stb
 _lga 607
 _fld 1
 _lcw 0
 _stb
 _lga 607
 _fld 2
 _lcw 81
 _stb
 _lga 607
 _fld 2
 _lcw 113
 _stb
 _lga 607
 _fld 4
 _lga 438
 _stw
 _lga 334
 _fld 4
 _lcw 1
 _min 1
 _max 6
 _ndx 6
 _lga 607
 _mov 6
 _lga 380
 _fld 0
 _lcw 7
 _stb
 _lga 607
 _fld 0
 _lcw 131
 _stb
 _lga 607
 _fld 2
 _lcw 68
 _stb
 _lga 607
 _fld 2
 _lcw 100
 _stb
 _lga 607
 _fld 4
 _lga 450
 _stw
 _lga 380
 _fld 4
 _lcw 1
 _min 1
 _max 6
 _ndx 6
 _lga 607
 _mov 6
 _lga 607
 _fld 0
 _lcw 131
 _stb
 _lga 607
 _fld 2
 _lcw 71
 _stb
 _lga 607
 _fld 2
 _lcw 103
 _stb
 _lga 607
 _fld 4
 _lga 462
 _stw
 _lga 380
 _fld 4
 _lcw 2
 _min 1
 _max 6
 _ndx 6
 _lga 607
 _mov 6
 _lga 607
 _fld 0
 _lcw 131
 _stb
 _lga 607
 _fld 2
 _lcw 72
 _stb
 _lga 607
 _fld 2
 _lcw 104
 _stb
 _lga 607
 _fld 4
 _lga 474
 _stw
 _lga 380
 _fld 4
 _lcw 3
 _min 1
 _max 6
 _ndx 6
 _lga 607
 _mov 6
 _lga 607
 _fld 0
 _lcw 64
 _stb
 _lga 607
 _fld 2
 _lcw 19
 _stb
 _lga 380
 _fld 4
 _lcw 4
 _min 1
 _max 6
 _ndx 6
 _lga 607
 _mov 6
 _lga 607
 _fld 0
 _lcw 0
 _stb
 _lga 607
 _fld 2
 _lcw 0
 _stb
 _lga 607
 _fld 2
 _lcw 0
 _stb
 _lga 607
 _fld 4
 _lga 486
 _stw
 _lga 380
 _fld 4
 _lcw 5
 _min 1
 _max 6
 _ndx 6
 _lga 607
 _mov 6
 _lga 607
 _fld 4
 _lga 498
 _stw
 _lga 380
 _fld 4
 _lcw 6
 _min 1
 _max 6
 _ndx 6
 _lga 607
 _mov 6
 _lga 607
 _fld 4
 _lga 510
 _stw
 _lga 380
 _fld 4
 _lcw 7
 _min 1
 _max 6
 _ndx 6
 _lga 607
 _mov 6
 _lga 426
 _fld 0
 _lcw 5
 _stb
 _lga 607
 _fld 0
 _lcw 128
 _stb
 _lga 607
 _fld 4
 _lga 522
 _stw
 _lga 426
 _fld 4
 _lcw 1
 _min 1
 _max 6
 _ndx 6
 _lga 607
 _mov 6
 _lga 607
 _fld 0
 _lcw 64
 _stb
 _lga 607
 _fld 2
 _lcw 19
 _stb
 _lga 426
 _fld 4
 _lcw 2
 _min 1
 _max 6
 _ndx 6
 _lga 607
 _mov 6
 _lga 607
 _fld 0
 _lcw 132
 _stb
 _lga 607
 _fld 1
 _lcw 0
 _stb
 _lga 607
 _fld 2
 _lcw 88
 _stb
 _lga 607
 _fld 3
 _lcw 120
 _stb
 _lga 607
 _fld 4
 _lga 534
 _stw
 _lga 426
 _fld 4
 _lcw 3
 _min 1
 _max 6
 _ndx 6
 _lga 607
 _mov 6
 _lga 607
 _fld 0
 _lcw 132
 _stb
 _lga 607
 _fld 2
 _lcw 67
 _stb
 _lga 607
 _fld 3
 _lcw 99
 _stb
 _lga 607
 _fld 4
 _lga 546
 _stw
 _lga 426
 _fld 4
 _lcw 4
 _min 1
 _max 6
 _ndx 6
 _lga 607
 _mov 6
 _lga 607
 _fld 0
 _lcw 132
 _stb
 _lga 607
 _fld 2
 _lcw 86
 _stb
 _lga 607
 _fld 3
 _lcw 118
 _stb
 _lga 607
 _fld 4
 _lga 558
 _stw
 _lga 426
 _fld 4
 _lcw 5
 _min 1
 _max 6
 _ndx 6
 _lga 607
 _mov 6
 _lga 438
 _lsa 12
 db 32
 db 81
 db 117
 db 105
 db 116
 db 32
 db 32
 db 32
 db 32
 db 32
 db 32
 db 32
 _mov 12
 _lga 438
 _lcw 1
 _min 1
 _max 11
 _ndxb
 _lcw 4
 _stb
 _lga 450
 _lsa 12
 db 32
 db 68
 db 114
 db 97
 db 103
 db 32
 db 119
 db 105
 db 110
 db 100
 db 111
 db 119
 _mov 12
 _lga 450
 _lcw 1
 _min 1
 _max 11
 _ndxb
 _lcw 12
 _stb
 _lga 462
 _lsa 12
 db 32
 db 71
 db 114
 db 111
 db 119
 db 32
 db 84
 db 111
 db 112
 db 32
 db 32
 db 32
 _mov 12
 _lga 462
 _lcw 1
 _min 1
 _max 11
 _ndxb
 _lcw 8
 _stb
 _lga 474
 _lsa 12
 db 32
 db 72
 db 105
 db 100
 db 101
 db 32
 db 84
 db 111
 db 112
 db 32
 db 32
 db 32
 _mov 12
 _lga 474
 _lcw 1
 _min 1
 _max 11
 _ndxb
 _lcw 8
 _stb
 _lga 486
 _lsa 12
 db 32
 db 83
 db 104
 db 111
 db 119
 db 32
 db 83
 db 109
 db 97
 db 108
 db 108
 db 32
 _mov 12
 _lga 486
 _lcw 1
 _min 1
 _max 11
 _ndxb
 _lcw 10
 _stb
 _lga 498
 _lsa 12
 db 32
 db 83
 db 104
 db 111
 db 119
 db 32
 db 76
 db 97
 db 114
 db 103
 db 101
 db 32
 _mov 12
 _lga 498
 _lcw 1
 _min 1
 _max 11
 _ndxb
 _lcw 10
 _stb
 _lga 510
 _lsa 12
 db 32
 db 77
 db 111
 db 117
 db 115
 db 101
 db 32
 db 67
 db 104
 db 97
 db 114
 db 32
 _mov 12
 _lga 510
 _lcw 1
 _min 1
 _max 11
 _ndxb
 _lcw 10
 _stb
 _lga 522
 _lsa 12
 db 32
 db 85
 db 110
 db 100
 db 111
 db 32
 db 108
 db 97
 db 115
 db 116
 db 32
 db 32
 _mov 12
 _lga 522
 _lcw 1
 _min 1
 _max 11
 _ndxb
 _lcw 9
 _stb
 _lga 534
 _lsa 12
 db 32
 db 67
 db 117
 db 116
 db 32
 db 32
 db 32
 db 32
 db 32
 db 32
 db 32
 db 32
 _mov 12
 _lga 534
 _lcw 1
 _min 1
 _max 11
 _ndxb
 _lcw 3
 _stb
 _lga 546
 _lsa 12
 db 32
 db 67
 db 111
 db 112
 db 121
 db 32
 db 32
 db 32
 db 32
 db 32
 db 32
 db 32
 _mov 12
 _lga 546
 _lcw 1
 _min 1
 _max 11
 _ndxb
 _lcw 4
 _stb
 _lga 558
 _lsa 12
 db 32
 db 80
 db 97
 db 115
 db 116
 db 101
 db 32
 db 32
 db 32
 db 32
 db 32
 db 32
 _mov 12
 _lga 558
 _lcw 1
 _min 1
 _max 11
 _ndxb
 _lcw 5
 _stb
 _lpa 2
 _lga 288
 _stw
 _jsr 30
 _jsr 35
 _lpa 2
 _lga 256
 _stw
 _lpa 2
 _lcw 256
 _stw
 _jsr 40
 _lsa 6
 db 100
 db 101
 db 109
 db 111
 db 49
 db 97
 _chn 6
 _end 2,617
_lomem
