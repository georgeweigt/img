FUNCTION FINDCLOCK:INTEGER;
VAR SLOT:INTEGER;
BEGIN
#A
 STX _T
 LDA #$C7
 STA _T+2
 LDA #0
 STA _T+1
FCLK1 LDY #2
FCLK2 LDA (_T+1),Y      ;CHECK FIRST 3 BYTES OF FIRMWARE
 CMP THCKID,Y
 BNE FCLK3
 DEY
 BPL FCLK2
 LDA _T+2
 BNE FCLK4         ;ALWAYS
FCLK3 DEC _T+2
 LDA _T+2
 CMP #$C0
 BNE FCLK1
FCLK4 AND #7     ;SLOT IN LOWER 3 BITS
 LDY #5
 STA (_SP),Y
 STA CSLOT
 INY
 LDA #0
 STA (_SP),Y
 LDX _T
#
 FINDCLOCK := SLOT
END;
#A
THCKID DB 8,$78,$28
CSLOT  DB 0
#
