PROCEDURE GETPREFIX(VAR PREFIX:PATHSTRING);
BEGIN
#A
 STX _T
 LDY #5
 LDA (_SP),Y    ;LSB OF PREFIX ADDRESS
 STA _T+2
 INY
 LDA (_SP),Y
 STA _T+3
 LDA #1
 STA _T+1
 JSR _MLI
 DB  $C7
 DW  _T+1
 LDY #5
 STA (_SP),Y
 INY
 LDA #0
 STA (_SP),Y
 JSR RESTPATH   ;MAKE INTO STRING
 LDX _T
#
END;
#A
 IFNDEF RESTPATH
RESTPATH EQU *  ;RESTORE PATH @(_T+2)
 LDY #0
 LDA (_T+2),Y   ;LENGTH
 STA _T+4
 INY
RPTH1 LDA (_T+2),Y
 DEY
 STA (_T+2),Y   ;MOVE STRING BACK ONE BYTE
 INY
 INY
 DEC _T+4
 BPL RPTH1
 RTS
 ENDIF
#
