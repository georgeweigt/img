/*
   get a keypress
   no cursor mode
*/

getakey()
  {
    char k='\0';

    while (k < 128)
      {
        k=peekmem(0xc010);
      }
    return (k-128);
   }

int peekmem (adr)
long adr;
{
#asm
SPP EQU $02
ROP EQU $08
    ldy #$0b
    lda (SPP),y
    tax
    iny
    lda (SPP),y
    stx $02
    sta $03
    ldy #$00
    lda (SPP),y
    sta ROP
    sty ROP+1
#endasm
}
